### V8 垃圾回收主要分为两个部分：新生代和老生代。

新生代存放的是存活时间较短的对象，而老生代存放的是存活时间较长的对象。以下是具体介绍：

新生代垃圾回收 新生代分为两个区域：From 和 To 区域。代码执行时，对象被分配到 From 区域。To 区域是空的，用于垃圾回收。当 From 区域满时，V8 将使用 Scavenge 算法将存活的对象从 From 区域复制到 To 区域中。在这个过程中，会进行一次全局暂停（Stop The World）。

老生代垃圾回收 老生代对象比新生代对象更大，存活时间更长。老生代采用标记–清除（Mark-Sweep）和标记–整理（Mark-Compact）算法。标记–清除算法将会遍历整个堆栈，找到所有的引用，并将被引用的对象打上标记。所有未标记的对象将被视为垃圾并清除掉。在清除过程中，被清除对象的相邻空间将会合并。

标记–整理算法和标记–清除算法类似，但是它会将所有 JSON 对象标记后将它们移动到堆的一端，其他的常规对象则移动到堆的另一侧。这样会使得堆的两端分别都包含存活对象和垃圾对象，V8 将在堆端后释放掉所有垃圾对象所使用的内存。



### V8 将老生代堆区域分成了不同的数据生命周期阈值，具有不同的回收算法。
对象的生命周期指对象创建后到被垃圾回收的整个时间跨度。不同类型的对象，其生命周期有可能会根据应用的需求、程序的运行情况等因素存在差异，因此 V8 针对这些差异进行了分类和优化处理。

具体来说，V8 将老生代堆区域分成了不同的数据生命周期阈值，通常这个阈值设定是根据对象存活时间的平均值来确定的。当对象的生命周期达到某个阈值后，就会被划分到相应的部分，并使用对应的垃圾回收算法进行管理。比如，对于一些对象生命周期较长的部分，V8 可能会采用标记-整理算法进行垃圾回收，而对于生命周期较短的部分，则可能使用更加简单高效的算法。

这样做的好处是可以提高垃圾回收效率，减少垃圾回收的时间和资源消耗，从而提高应用的整体性能。
